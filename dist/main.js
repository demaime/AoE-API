(()=>{"use strict";const e="https://proxy-civ.vercel.app/proxy",n=document.querySelector(".civ_list"),t=document.querySelector(".name_civ"),i=document.querySelector(".army_type"),c=document.querySelector(".team_bonus"),o=document.querySelector(".civ_bonus"),s=document.querySelector(".uniq_unit"),a=document.querySelector(".uniq_tech");let l=null;const r=document.querySelector("#loading");async function u(e){if(e.unique_tech){const n=await fetch(e.unique_tech),t=await n.json(),i=["id","develops_in","applies_to"],c=Object.keys(t).filter((e=>!i.includes(e))).map((e=>{let n=t[e];return"object"==typeof n&&(n=Object.values(n).join("/")),`\n          <li class= "capitalize">\n            <strong>${e.replace("_"," ")}: </strong> ${n||"<em>No info</em>"}\n          </li>\n        `})).join("");a.innerHTML=`<strong>Unique Tecnology:</strong><ul>\n        ${c}\n        </ul>\n      `}else a.innerHTML="<em>No info<em>";if(e.unique_unit){const n=await fetch(e.unique_unit),t=await n.json(),i=["id","created_in","applies_to"],c=Object.keys(t).filter((e=>!i.includes(e))).map((e=>{let n=t[e];return"object"==typeof n&&(n=Object.values(n).join("/")),`\n          <li class= "capitalize">\n            <strong>${e.replace("_"," ")}: </strong> ${n||"<em>No info</em>"}\n          </li>\n        `})).join("");s.innerHTML=`<strong>Unique Unit:</strong><ul>\n        ${c}\n        </ul>\n      `}else s.innerHTML="<em>No info<em>";t.innerHTML=e.name,i.innerHTML=`<strong>Army Type:</strong> ${e.army_type}`,c.innerHTML=`<strong>Team Bonus:</strong> ${e.team_bonus}`,o.innerHTML=`<strong>Civilization Bonus:</strong> ${e.civilization_bonus}`}const d=document.querySelector(".units_list"),p=document.querySelector(".units_info");let m=null;async function y(e){const n=["id","created_in","name"],t=Object.keys(e).filter((e=>!n.includes(e))).map((n=>{let t=e[n];return"object"==typeof t&&(t=Object.values(t).join("/")),`\n          <li class= "capitalize unit_text">\n            <strong>${n.replace("_"," ")}: </strong> ${t||"<em>No info</em>"}\n          </li>\n        `})).join("");p.innerHTML=`<span id="title_units_info">${e.name}</span><ul>\n        ${t}\n        </ul>\n      `}const f=document.querySelector(".structures_container");let _=null;async function h(e){[...document.querySelectorAll(".structure_info")].forEach((e=>e.classList.add("hidden"))),e.classList.remove("hidden")}const v=document.querySelector(".tech_container"),q=document.querySelector(".tech_info");let g=null;async function j(e){const n=["id","develops_in","name","applies_to"],t=Object.keys(e).filter((e=>!n.includes(e))).map((n=>{let t=e[n];return"object"==typeof t&&(t=Object.values(t).join("/")),`\n            <li class= "capitalize tech_text">\n              <strong>${n.replace("_"," ")}: </strong> ${t||"<em>No info</em>"}\n            </li>\n          `})).join("");q.innerHTML=`<span id="title_tech_info">${e.name}</span><span class="quit_tech">âœ–</span><ul>\n            ${t}\n            </ul>\n          `,q.style.display="flex",v.style.display="none",document.querySelector(".quit_tech").addEventListener("click",L)}function L(){q.style.display="none",v.style.display="grid"}const b=Array.from(document.querySelectorAll(".panel")),w=Array.from(document.querySelectorAll(".bar_item"));!async function(){w.forEach((e=>{const n=e.dataset.item;e.addEventListener("click",(()=>{b.forEach((e=>{e.classList.contains(n)?e.classList.add("open"):e.classList.remove("open")}))}))})),await async function(){r.style.display="block";const n=await async function(){const n=await fetch(e+"/civilizations"),t=await n.json();return t.civilizations.forEach((n=>{n.unique_unit=n.unique_unit[0]?n.unique_unit[0].replace("https://age-of-empires-2-api.herokuapp.com/api/v1",e):null,n.unique_tech=n.unique_tech[0]?n.unique_tech[0].replace("https://age-of-empires-2-api.herokuapp.com/api/v1",e):null})),t}();l=n.civilizations,r.style.display="none"}(),async function(){for(let e=0;e<l.length;e++){const t=l[e];let i=document.createElement("li");i.classList.add("civLi"),i.innerText=t.name,i.addEventListener("click",(()=>u(t))),n.appendChild(i)}}(),await async function(){const e=await async function(){const e=await fetch("https://proxy-civ.vercel.app/proxy/units");return await e.json()}();m=e.units}(),function(e){for(let e=0;e<m.length;e++){const n=m[e],t=document.createElement("div");t.innerText=n.name,t.classList.add("units_item"),t.addEventListener("mouseover",(()=>y(n))),d.appendChild(t)}}(),await async function(){const e=await async function(){const e=await fetch("https://proxy-civ.vercel.app/proxy/structures");return await e.json()}();_=e.structures}(),function(){for(let e=0;e<_.length;e++){const n=_[e],t=document.createElement("div"),i=document.createElement("div");t.innerText=n.name;const c=["id","name"];i.innerHTML=Object.keys(n).filter((e=>!c.includes(e))).map((e=>{let t=n[e];return"object"==typeof t&&(t=Object.values(t).join("/")),`\n        <li class= "capitalize structure_text">\n          <strong>${e.replace("_"," ")}: </strong> ${t||"<em>No info</em>"}\n        </li>\n      `})).join(""),t.classList.add("structure_item"),i.classList.add("structure_info"),i.classList.add("hidden"),t.addEventListener("click",(()=>h(i))),f.appendChild(t),t.appendChild(i)}}(),await async function(){const e=await async function(){const e=await fetch("https://proxy-civ.vercel.app/proxy/technologies");return await e.json()}();g=e.technologies}(),function(e){for(let e=0;e<g.length;e++){const n=g[e],t=document.createElement("div");t.innerText=n.name,t.classList.add("tech_item"),t.addEventListener("click",(()=>j(n))),v.appendChild(t)}}()}()})();